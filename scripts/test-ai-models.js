#!/usr/bin/env node\n\n/**\n * AI Models Test Script\n * Tests the LLM service with sample queries in different languages\n */\n\nconst axios = require('axios');\n\nconst testQueries = [\n  {\n    language: 'en',\n    query: 'What is the current gold rate?',\n    expected: 'Should return current gold price information'\n  },\n  {\n    language: 'hi',\n    query: '‡§Ü‡§ú ‡§ï‡§æ ‡§∏‡•ã‡§®‡•á ‡§ï‡§æ ‡§≠‡§æ‡§µ ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?',\n    expected: 'Should return gold rate in Hindi'\n  },\n  {\n    language: 'kn',\n    query: '‡≤á‡≤Ç‡≤¶‡≤ø‡≤® ‡≤ö‡≤ø‡≤®‡≥ç‡≤®‡≤¶ ‡≤¶‡≤∞ ‡≤è‡≤®‡≥Å?',\n    expected: 'Should return gold rate in Kannada'\n  },\n  {\n    language: 'en',\n    query: 'Show me all gold rings under 50 grams',\n    expected: 'Should return inventory search results'\n  },\n  {\n    language: 'en',\n    query: 'Calculate price for 15 gram gold chain with current rates',\n    expected: 'Should calculate and return price'\n  }\n];\n\nasync function testAIModels() {\n  console.log('Testing AI/LLM Service...');\n  console.log('========================');\n  \n  for (const test of testQueries) {\n    console.log(`\\nüîç Testing: \"${test.query}\" (${test.language})`);\n    \n    try {\n      const response = await axios.post('http://localhost:3007/api/llm/chat', {\n        sessionId: 'test-session-' + Date.now(),\n        language: test.language,\n        inputType: 'text',\n        userInput: test.query\n      }, {\n        timeout: 10000,\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      \n      if (response.data.success) {\n        console.log('‚úÖ Response received:');\n        console.log(`   ${response.data.data.aiResponse}`);\n        console.log(`   Processing time: ${response.data.data.processingTimeMs}ms`);\n      } else {\n        console.log('‚ùå Failed:', response.data.error);\n      }\n      \n    } catch (error) {\n      if (error.code === 'ECONNREFUSED') {\n        console.log('‚ö†Ô∏è  LLM service not available');\n      } else {\n        console.log('‚ùå Error:', error.message);\n      }\n    }\n  }\n  \n  console.log('\\nüé§ Testing Voice Input...');\n  try {\n    const voiceResponse = await axios.post('http://localhost:3007/api/llm/voice/synthesize', {\n      text: 'Welcome to our jewelry shop! How can I help you today?',\n      language: 'en'\n    }, {\n      timeout: 15000\n    });\n    \n    if (voiceResponse.data.success) {\n      console.log('‚úÖ Voice synthesis working');\n    }\n  } catch (error) {\n    console.log('‚ö†Ô∏è  Voice service not available or not configured');\n  }\n  \n  console.log('\\nüìä AI Model Configuration Test...');\n  try {\n    const configResponse = await axios.get('http://localhost:3007/api/llm/models', {\n      timeout: 5000\n    });\n    \n    if (configResponse.data.success) {\n      console.log('‚úÖ Available models:', configResponse.data.data.models);\n      console.log('   Current model:', configResponse.data.data.currentModel);\n    }\n  } catch (error) {\n    console.log('‚ö†Ô∏è  Model configuration endpoint not available');\n  }\n}\n\nif (require.main === module) {\n  testAIModels();\n}\n\nmodule.exports = { testAIModels };